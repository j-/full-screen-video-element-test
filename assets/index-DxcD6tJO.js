(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();const f=100,d=100,m=async()=>{document.fullscreenEnabled||alert("Warning: `document.fullscreenEnabled` was `"+document.fullscreenEnabled+"`, expected `true`.");const n=document.getElementById("video");if(!n)throw new Error("No video element found");typeof n.requestFullscreen!="function"&&alert("Warning: `typeof video.requestFullscreen` was `"+JSON.stringify(typeof n.requestFullscreen)+'`, expected `"function""`.');const c=document.getElementById("button-request-fullscreen");if(!c)throw new Error("No fullscreen button found");c.addEventListener("click",async o=>{o.preventDefault();try{const r=await n.requestFullscreen();alert("Called successfully, result: "+JSON.stringify(r))}catch(r){alert(`Error requesting full screen:

${r}`)}});const s=document.getElementById("button-webkit-enter-fullscreen");if(!s)throw new Error("No fullscreen button found");s.addEventListener("click",o=>{o.preventDefault();try{const r=n.webkitEnterFullscreen();alert("Called successfully, result: "+JSON.stringify(r))}catch(r){alert(`Error entering full screen (webkit):

${r}`)}});const l=document.getElementById("canvas");if(!l)throw new Error("No canvas element found");const e=l.getContext("2d");if(!e)throw new Error("Unable to get 2D rendering context");const t=document.getElementsByClassName("button-color");if(t.length<1)throw new Error("No color buttons found");for(const o of t)o.addEventListener("click",async r=>{r.preventDefault();const a=r.currentTarget.value;try{e.fillStyle=a,e.fillRect(0,0,f,d);const u=l.captureStream(0),[i]=u.getVideoTracks();i.requestFrame(),n.srcObject=new MediaStream([i])}catch(u){alert(`Error updating test video:

${u}`)}})};(async()=>{try{await m()}catch(n){alert(`Error initializing application:

${n}`)}})();
