(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function u(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(e){if(e.ep)return;e.ep=!0;const t=u(e);fetch(e.href,t)}})();const f=100,m=100,y=async()=>{document.fullscreenEnabled||alert("Warning: `document.fullscreenEnabled` was `"+document.fullscreenEnabled+"`, expected `true`.");const r=document.getElementById("video");if(!r)throw new Error("No video element found");typeof r.requestFullscreen!="function"&&alert("Warning: `typeof video.requestFullscreen` was `"+JSON.stringify(typeof r.requestFullscreen)+'`, expected `"function""`.');const c=document.getElementById("button-request-fullscreen");if(!c)throw new Error("No fullscreen button found");c.addEventListener("click",async s=>{s.preventDefault();try{const n=await r.requestFullscreen();alert("Called successfully, result: "+JSON.stringify(n))}catch(n){alert(`Error requesting full screen:

${n}`)}});const u=document.getElementById("button-webkit-enter-fullscreen");if(!u)throw new Error("No fullscreen button found");u.addEventListener("click",s=>{s.preventDefault();try{const n=r.webkitEnterFullscreen();alert("Called successfully, result: "+JSON.stringify(n))}catch(n){alert(`Error entering full screen (webkit):

${n}`)}});const l=document.getElementById("canvas");if(!l)throw new Error("No canvas element found");const e=l.getContext("2d");if(!e)throw new Error("Unable to get 2D rendering context");const t=l.captureStream(0),[o]=t.getVideoTracks();o.requestFrame(),r.srcObject=new MediaStream([o]),r.preload="metadata",r.load();const i=document.getElementsByClassName("button-color");if(i.length<1)throw new Error("No color buttons found");for(const s of i)s.addEventListener("click",async n=>{n.preventDefault();const a=n.currentTarget.value;try{e.fillStyle=a,e.fillRect(0,0,f,m),o.requestFrame()}catch(d){alert(`Error updating test video:

${d}`)}})};(async()=>{try{await y()}catch(r){alert(`Error initializing application:

${r}`)}})();
