(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&c(n)}).observe(document,{childList:!0,subtree:!0});function i(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(e){if(e.ep)return;e.ep=!0;const r=i(e);fetch(e.href,r)}})();const f=100,m=100,p=async()=>{document.fullscreenEnabled||alert("Warning: `document.fullscreenEnabled` was `"+document.fullscreenEnabled+"`, expected `true`.");const t=document.getElementById("video");if(!t)throw new Error("No video element found");typeof t.requestFullscreen!="function"&&alert("Warning: `typeof video.requestFullscreen` was `"+JSON.stringify(typeof t.requestFullscreen)+'`, expected `"function""`.');const o=document.getElementById("button-request-fullscreen");if(!o)throw new Error("No fullscreen button found");o.addEventListener("click",async s=>{s.preventDefault();try{await t.requestFullscreen()}catch(l){alert(`Error requesting full screen:

${l}`)}});const i=document.getElementById("button-webkit-enter-fullscreen");if(!i)throw new Error("No fullscreen button found");i.addEventListener("click",s=>{s.preventDefault();try{t.play(),t.webkitEnterFullscreen()}catch(l){alert(`Error entering full screen (webkit):

${l}`)}});const c=document.getElementById("canvas");if(!c)throw new Error("No canvas element found");const e=c.getContext("2d");if(!e)throw new Error("Unable to get 2D rendering context");const r=c.captureStream(0),[n]=r.getVideoTracks();n.requestFrame(),t.srcObject=new MediaStream([n]),t.preload="metadata",t.load();const u=document.getElementsByClassName("button-color");if(u.length<1)throw new Error("No color buttons found");for(const s of u)s.addEventListener("click",async l=>{l.preventDefault();const a=l.currentTarget.value;try{e.fillStyle=a,e.fillRect(0,0,f,m),n.requestFrame(),t.play()}catch(d){alert(`Error updating test video:

${d}`)}})};(async()=>{try{await p()}catch(t){alert(`Error initializing application:

${t}`)}})();
